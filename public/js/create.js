const createFormHandler=async a=>{a.preventDefault();const b=document.querySelector("#name").value.trim(),c=document.querySelector("#category").value,d=document.querySelectorAll(".options");let e=[],f=[];if(d.forEach(a=>{a.value&&(console.log(a.value),e.push(a.value),f.push(0))}),e=JSON.stringify(e),f=JSON.stringify(f),console.log(e),console.log(f),b&&c&&e&&f){const a=await fetch("/api/pie/",{method:"POST",body:JSON.stringify({name:b,category:c,labels:e,data:f}),headers:{"Content-Type":"application/json"}});a.ok?document.location.replace("/profile"):alert("Failed to create pie")}};document.querySelector(".create-form").addEventListener("submit",createFormHandler);